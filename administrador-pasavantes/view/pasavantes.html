<div class="col-lg-12">

    <form class="form-horizontal well">
        <fieldset>
            <div class="col-lg-4">
                <div class="form-group">
                    <div class="input-group">
                        <label for="tipoNavegacionSelect" class="input-group-addon"><strong>Tipo navegación</strong></label>
                        <input id="tipoNavegacionSelect" type="text" ng-model="nuevoPasavante.ID_TIPO_NAVEGACION" uib-typeahead="trafico as trafico.DESC_TRAFICO for trafico in traficos | filter:$viewValue | limitTo:10" class="form-control" typeahead-editable="false" typeahead-min-length="1" placeholder="Ingresar tipo de navegación">
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group">
                        <label for="sitioSelect" class="input-group-addon"><strong>Sitio</strong></label>
                        <input id="sitioSelect" type="text" ng-model="nuevoPasavante.TERMINALES[0].ID_TERMINAL" uib-typeahead="muelle as muelle.CODIGO_MUELLE + ' - ' + muelle.DESCRIPCION_MUELLE + ' (' + muelle.SHORT_TERMINAL + ')' for muelle in muelles | filter:$viewValue | limitTo:15" class="form-control" typeahead-editable="false" typeahead-min-length="1" placeholder="Ingresar sitio de atraque">
                    </div>
                </div>
                <div class="panel panel-info">
                    <div class = "panel-heading panel-primary">MINIMO A FACTURAR</div>
                    <div class = "panel-body">
                        <div class="form-group col-lg-12">
                            <div class="input-group">
                                <input id="minimoCheck" ng-model="tarifaMinima.MINIMO" type="checkbox" class="checkbox-inline"> Agregar mínimo a facturar
                            </div>
                        </div>
                        <div class="form-group col-lg-9">
                            <input id="minimoSelect" type="text" ng-model="tarifaMinima.ID_TARIFA" uib-typeahead="tarifa as tarifa.formatData() for tarifa in tarifas | filter:$viewValue | limitTo:15" class="form-control" typeahead-editable="false" typeahead-min-length="1" placeholder="Seleccione una tarifa">
                        </div>
                        <div class="form-group col-lg-4">
                            <div class="input-group" style="margin-left: 5px">
                                <span class="input-group-addon">Valor</span>
                                <input class="valor-minimo text-right form-control" readonly>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-8">
                <div class = "panel panel-primary">
                    <div class = "panel-heading panel-primary">TARIFAS</div>
                    <div class = "panel-body">
                        <table class="table table-striped" id="ratesTable">
                            <thead>
                            <tr>
                                <td><strong>Tarifa</strong></td>
                                <td><strong>Desde</strong></td>
                                <td><strong>Hasta</strong></td>
                                <td class="text-right"><strong>Total</strong></td>
                                <td class="text-center"><strong>Eliminar</strong></td>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="tarifa in nuevoPasavante.TERMINALES[0].TARIFAS track by $index">
                                <td class="col-lg-5">
                                    <input type="text" ng-model="tarifa.DESCRIPCION" uib-typeahead="tarifa as tarifa.formatData() for tarifa in tarifas | filter:$viewValue | limitTo:15" class="form-control" typeahead-editable="false" typeahead-min-length="1" placeholder="Seleccione una tarifa">
                                </td>
                                <td class="col-lg-2">
                                    <div class="input-group">
                                        <input type="text" class="form-control datepicker fecha-inicio" data-provide="datepicker" placeholder="dd/mm/yyyy" readonly style="background-color: white">
                                        <span class="input-group-btn"><button type="button" class="btn btn-default clear"><i class="fa fa-remove"></i></button></span>
                                    </div>
                                </td>
                                <td class="col-lg-2">
                                    <div class="input-group">
                                        <input type="text" class="form-control datepicker fecha-fin" data-provide="datepicker" placeholder="dd/mm/yyyy" readonly style="background-color: white">
                                        <span class="input-group-btn"><button type="button" class="btn btn-default clear"><i class="fa fa-remove"></i></button></span>
                                    </div>
                                </td>
                                <td class="col-lg-2 valor-cell text-right" style="font-size: large"></td>
                                <td class="col-lg-1 text-center"><button ng-click="nuevoPasavante.removeRate($index)" type="button" class="btn btn-danger" title="Eliminar tarifa"><i class="fa fa-remove"></i></button> </td>
                            </tr>
                            </tbody>
                            <tfoot>
                            <tr>
                                <td class="col-lg-5"></td>
                                <td class="col-lg-2"></td>
                                <td class="col-lg-2"></td>
                                <td class="col-lg-2"></td>
                                <td class="col-lg-1 text-center"><button ng-click="nuevoPasavante.addRate()" type="button" class="btn btn-info" title="Agregar tarifa"><i class="fa fa-plus-circle"></i></button></td>
                            </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
            <div class="form-group col-lg-12">
                <div class="input-group col-lg-1 pull-right">
                    <button id="guardarPasavante" type="button" class="btn btn-primary"><i class="fa fa-save"></i> Guardar</button>
                </div>
                <div class="input-group col-lg-1 pull-right">
                    <button id="cancelarCambios" type="button" class="btn btn-default"><i class="fa fa-remove"></i> Cancelar</button>
                </div>
            </div>
        </fieldset>
    </form>

    <div class = "panel panel-primary">
        <div class = "panel-heading panel-primary">PASAVANTES REGISTRADOS</div>
        <div class = "panel-body">
            <table class="table" id="listado_pasavantes" ng-repeat="pasavante in pasavantes">
                <thead ng-show="$first">
                <tr>
                    <td><strong>Tipo navegación</strong></td>
                    <td>Editar</td>
                    <td><strong>Sitio</strong></td>
                    <td><strong>Tarifa</strong></td>
                    <td class="text-center"><strong>Fecha</strong></td>
                    <td class="text-right"><strong>Valor tarifa</strong></td>
                    <td class="text-center"><strong>Dar de baja</strong></td>
                    <td class="text-right"><strong>Total</strong></td>
                </tr>
                </thead>
                <tbody ng-repeat="terminal in pasavante.TERMINALES">
                <tr ng-click="terminal.DETALLE = !terminal.DETALLE" class="clickeable-row" ng-class="terminal.DETALLE ? 'selected-row' : ''">
                    <td class="col-lg-2"><span ng-show="$first"><strong>{{ pasavante.NAVEGACION }}</strong></span></td>
                    <td class="col-lg-1"><button class="btn btn-primary"><i class="fa fa-edit"></i></button></td>
                    <td class="col-lg-2"><strong>{{terminal.ID_TERMINAL + ' - ' + terminal.MUELLE}}</strong></td>
                    <td class="col-lg-3"></td>
                    <td class="col-lg-1"></td>
                    <td class="col-lg-1"></td>
                    <td class="col-lg-1"></td>
                    <td class="col-lg-1 text-right"><span ng-show="$first"><strong>{{ pasavante.VALOR_TOTAL | currency: '$' : 2 }}</strong></span></td>
                </tr>
                <tr ng-show="terminal.DETALLE" ng-repeat="tarifa in terminal.TARIFAS" ng-class="tarifa.FECHA_HASTA < fecha ? 'bg-danger' : ''">
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>{{ tarifa.CODIGO_TARIFA + ' - ' + tarifa.DESCRIPCION }}</td>
                    <td class="text-center">{{ tarifa.FECHA_TARIFA | date: 'yyyy-MM-dd' }}</td>
                    <td class="text-right">{{ tarifa.VALOR | currency: '$' : 2 }}</td>
                    <td class="text-center"><button class="btn btn-danger" ng-click="disableRate(pasavante, tarifa.ID)"><i class="fa fa-remove"></i></button></td>
                    <td></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

</div>